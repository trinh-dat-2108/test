
{% assign pos = content_position | default: 'center' %}
{% assign btn_style = button_style | default: 'underline' %}

{%- comment -%} Content position mapping {%- endcomment -%}
{% case pos %}
  {% when 'top' %}
    {% assign content_class = 'top-6 left-6 text-left' %}
  {% when 'bottom' %}
    {% assign content_class = 'bottom-10 left-8 text-left' %}
  {% when 'left' %}
    {% assign content_class = 'left-6 top-1/2 -translate-y-1/2 text-left' %}
  {% when 'right' %}
    {% assign content_class = 'right-6 top-1/2 -translate-y-1/2 text-right' %}
  {% else %}
    {% assign content_class = 'inset-0 flex flex-col items-center justify-center text-center px-6' %}
{% endcase %}

{%- comment -%} Button style mapping {%- endcomment -%}
{% case btn_style %}
  {% when 'solid' %}
    {% assign btn_class = 'px-6 py-3 bg-white text-black rounded-full hover:bg-white/90 transition' %}
  {% when 'outline' %}
    {% assign btn_class = 'px-6 py-3 border border-white text-white rounded-full hover:bg-white hover:text-black transition' %}
  {% else %}
    {% assign btn_class = 'text-white' %}
{% endcase %}

{%- comment -%} Render banner only if show_banner is true and image exists {%- endcomment -%}
{% if show_banner and image %}
<div class="relative w-full h-[470px] rounded-3xl overflow-hidden group">
  <img 
    src="{{ image | image_url }}" 
    alt="{{ title | escape }}"
    class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
    width="500"
    height="500"
  >

  <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-black/20 to-transparent"></div>

  <!-- Content -->
  <div class="absolute {{ content_class }} text-white">
    {% if title != blank %}
      <h2 class="text-4xl font-serif leading-tight mb-4 drop-shadow-lg">
        {{ title }}
      </h2>
    {% endif %}

    {% if button_label != blank %}
      <a href="{{ button_url }}" class="inline-flex items-center text-lg font-medium group/btn {{ btn_class }}">
        {% if btn_style == 'underline' %}
          <span class="relative inline-block">
            {{ button_label }}
            <span class="absolute left-0 -bottom-2 h-[2px] w-full bg-white opacity-80"></span>
          </span>
        {% else %}
          <span>{{ button_label }}</span>
        {% endif %}
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 ml-2 transition-transform duration-300 group-hover/btn:translate-x-1">
          <path fill="none" stroke="currentColor" stroke-width="2" d="M9 6l6 6-6 6"/>
        </svg>
      </a>
    {% endif %}
  </div>
</div>
{% endif %}