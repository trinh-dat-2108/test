<div class="flex items-center justify-between w-full">

  <div class="relative w-full h-0.5 bg-gray-200 mr-6 overflow-hidden">
    <div 
      class="scrollThumb h-0.5 transition-all duration-500 ease-out"
      style="width: 0%;">
    </div>
  </div>

  <div class="flex items-center gap-3">

    <!-- PREV -->
    <button 
      class="scrollLeft btn-slide-hover w-12 h-12 flex items-center justify-center rounded-full border border-gray-300 bg-white transition"
      aria-label="Previous"
    >
      <svg xmlns="http://www.w3.org/2000/svg"
           viewBox="0 0 24 24"
           class="w-5 h-5">
        <path fill="none"
              stroke="currentColor"
              stroke-width="2"
              d="M15 6l-6 6 6 6"/>
      </svg>
    </button>

    <!-- NEXT -->
    <button 
      class="scrollRight btn-slide-hover w-12 h-12 flex items-center justify-center rounded-full border border-gray-300 bg-white transition"
      aria-label="Next"
    >
      <svg xmlns="http://www.w3.org/2000/svg"
           viewBox="0 0 24 24"
           class="w-5 h-5">
        <path fill="none"
              stroke="currentColor"
              stroke-width="2"
              d="M9 6l6 6-6 6"/>
      </svg>
    </button>

  </div>
</div>

<style>
#scrollThumb {
  background: linear-gradient(
    90deg,
    #000 0%,
    #000 60%,
    rgba(0, 0, 0, 0.3) 100%
  );
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const scroller = document.querySelector(".product_scroller");
  const thumb = document.getElementById("scrollThumb");

  const leftBtn = document.getElementById("scrollLeft");
  const rightBtn = document.getElementById("scrollRight");

  if (!scroller || !thumb) return;

  function updateThumb() {
    const maxScroll = scroller.scrollWidth - scroller.clientWidth;

    if (maxScroll <= 0) {
      thumb.style.width = "100%";
      return;
    }

    const percent = scroller.scrollLeft / maxScroll;
    thumb.style.width = (percent * 100) + "%";
  }

  if (leftBtn) {
    leftBtn.addEventListener("click", () => {
      scroller.scrollBy({ left: -300, behavior: "smooth" });
    });
  }

  if (rightBtn) {
    rightBtn.addEventListener("click", () => {
      scroller.scrollBy({ left: 300, behavior: "smooth" });
    });
  }

  scroller.addEventListener("scroll", updateThumb);
  updateThumb();
});
</script>

