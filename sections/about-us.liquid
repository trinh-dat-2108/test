<section
  class="about-us-wrapper about-us-hero position-relative"
  style="
    background-color: {{ section.settings.bg_color }};
    {% if section.settings.bg_image != blank %}
      background-image: url({{ section.settings.bg_image | image_url: width: 1920 }});
    {% endif %}
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  "
>
  <div class="hero-overlay"></div>

  {% if section.settings.bg_video != blank %}
    <video class="hero-video" autoplay muted loop playsinline>
      <source src="{{ section.settings.bg_video | file_url }}" type="video/mp4">
    </video>
  {% endif %}

  <div class="page-width page-width--narrow hero-content position-relative">
    {% if section.settings.heading != blank %}
      <h1>{{ section.settings.heading }}</h1>
    {% endif %}

    {% if section.settings.subheading != blank %}
      <p>{{ section.settings.subheading }}</p>
    {% endif %}
  </div>
</section>

<style>
.about-us-hero {
  background-size: cover;
  background-position: center;
  min-height: 60vh;
  display: flex;
  align-items: center;
  color: #fff;
  position: relative;
}

.about-us-hero .hero-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.3); 
  z-index: 1;
  pointer-events: none;
}

.about-us-hero .hero-video {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: 0;
}

.about-us-hero .hero-content {
  text-align: center;
  z-index: 2;
  position: relative;
}

.about-us-hero h1 {
  font-size: 56px;
  font-weight: 800;
  margin: 0 0 20px;
  text-shadow: 0 4px 15px rgba(0,0,0,0.6);
  color: #fff;
}

.about-us-hero p {
  font-size: 22px;
  max-width: 900px;
  margin: 0 auto;
  text-shadow: 0 2px 10px rgba(0,0,0,0.6);
  color: #fff;
}

/* =============== HEADER TRANSPARENT - FIX MẠNH HƠN =============== */
.header-transparent-active .header,
.header-transparent-active header,
.header-transparent-active #shopify-section-header,
.header-transparent-active .site-header,
.header-transparent-active .header-wrapper,
.header-transparent-active .shopify-section-header { /* Thêm cái này cho theme có section header riêng */
  background-color: transparent !important;
  backdrop-filter: none !important;
  box-shadow: none !important;
  border-bottom: none !important;
  transition: all 0.4s ease;
}

/* Announcement bar (phần xanh lá trên cùng) cũng transparent + chữ trắng */
.header-transparent-active .announcement-bar,
.header-transparent-active .shopify-section-announcement-bar,
.header-transparent-active #shopify-section-announcement-bar {
  background-color: transparent !important;
  color: #fff !important;
}

.header-transparent-active .announcement-bar a,
.header-transparent-active .announcement-bar p {
  color: #fff !important;
  opacity: 0.9;
}

/* Menu chính: chữ trắng, logo trắng */
.header-transparent-active .header__menu-item,
.header-transparent-active .list-menu__item,
.header-transparent-active .header__inline-menu a,
.header-transparent-active .site-nav__link,
.header-transparent-active a.header__heading-link {
  color: #fff !important;
}

/* Logo sáng lên (nếu logo tối bình thường) */
.header-transparent-active .header__heading-logo,
.header-transparent-active .header__heading-link img {
  filter: brightness(0) invert(1); /* Làm logo trắng */
}

/* Khi scroll xuống: header trở lại nền trắng + chữ đen */
.header-transparent-active.scrolled .header,
.header-transparent-active.scrolled header,
.header-transparent-active.scrolled #shopify-section-header {
  background-color: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 15px rgba(0,0,0,0.1);
}

.header-transparent-active.scrolled .announcement-bar {
  background-color: #155724 !important; /* Màu xanh lá gốc của announcement nếu cần */
  color: #fff !important;
}

.header-transparent-active.scrolled .header__menu-item,
.header-transparent-active.scrolled .list-menu__item,
.header-transparent-active.scrolled a {
  color: #000 !important;
}

.header-transparent-active.scrolled .header__heading-logo,
.header-transparent-active.scrolled .header__heading-link img {
  filter: none;
}

/* Mobile */
@media (max-width: 768px) {
  .about-us-hero {
    min-height: 70vh;
    padding-top: 140px; /* Tăng thêm nếu header cao trên mobile */
  }
  .about-us-hero h1 { font-size: 40px; }
  .about-us-hero p { font-size: 18px; }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  if (document.querySelector('.about-us-hero')) {
    document.body.classList.add('header-transparent-active');
  }

  window.addEventListener('scroll', function() {
    if (window.scrollY > 80) {
      document.body.classList.add('scrolled');
    } else {
      document.body.classList.remove('scrolled');
    }
  });
});
</script>

{% schema %}
{
  "name": "About Us Hero Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Ảnh banner"
    },
    {
      "type": "video",
      "id": "bg_video",
      "label": "Video banner (MP4)"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Tiêu đề",
      "default": "ABOUT SALVARITY®"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Mô tả",
      "default": "Science-backed Australian Skincare"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Màu nền fallback",
      "default": "#e8e8e8"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding trên",
      "min": 100,
      "max": 300,
      "step": 10,
      "unit": "px",
      "default": 180
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding dưới",
      "min": 50,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 100
    }
  ],
  "presets": [
    {
      "name": "About Us Hero Banner",
      "settings": {
        "padding_top": 180
      }
    }
  ]
}
{% endschema %}